(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,function(e,t){},function(e,t,a){e.exports=a(18)},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(4),o=a.n(l);a(15),a(16);const s=[{abbr:"ar",name:"Arabic"},{abbr:"bg",name:"Bulgarian"},{abbr:"zh",name:"Chinese"},{abbr:"cs",name:"Czech"},{abbr:"da",name:"Danish"},{abbr:"nl",name:"Dutch"},{abbr:"en",name:"English"},{abbr:"et",name:"Estonian"},{abbr:"fi",name:"Finnish"},{abbr:"fr",name:"French"},{abbr:"de",name:"German"},{abbr:"el",name:"Greek"},{abbr:"hu",name:"Hungarian"},{abbr:"id",name:"Indonesian"},{abbr:"it",name:"Italian"},{abbr:"ja",name:"Japanese"},{abbr:"ko",name:"Korean"},{abbr:"lv",name:"Latvian"},{abbr:"lt",name:"Lithuanian"},{abbr:"no",name:"Norwegian"},{abbr:"pl",name:"Polish"},{abbr:"pt",name:"Portuguese"},{abbr:"ro",name:"Romanian"},{abbr:"ru",name:"Russian"},{abbr:"sk",name:"Slovak"},{abbr:"sl",name:"Slovenian"},{abbr:"es",name:"Spanish"},{abbr:"sv",name:"Swedish"},{abbr:"tr",name:"Turkish"},{abbr:"uk",name:"Ukrainian"}];var c=a(2);var i=()=>{const[e,t]=Object(n.useState)(""),[a,l]=Object(n.useState)(""),[o,i]=Object(n.useState)(""),m="https://springboard-capstone-translation-app.onrender.com";return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"content"},r.a.createElement("div",null,r.a.createElement("h1",{className:"app-title"},"UNIFi"),r.a.createElement("h3",null,"Translate.."),r.a.createElement("form",{onSubmit:async t=>{t.preventDefault();const a=document.getElementById("selected-lang").value;if("none"!==a)try{const t=await fetch(`${m}/translate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inputText:e,targetLanguage:a})}),r=await t.json();if(r.error)alert("Error: "+r.error);else{l(r.translation);const t=localStorage.getItem("token");if(t){const n=await fetch(`${m}/translations`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({input_text:e,translated_text:r.translation,input_language:"en",target_language:a})});if(401===n.status){const e=await n.json();"Token has expired"===e.message&&(alert("Failed to save translation: "+e.message),localStorage.removeItem("token"),Object(c.a)("/login"))}else alert("You need to be logged in to save translations.")}}}catch(n){console.error("Translation error:",n),alert("An error occurred while translating.")}else alert("Please select a language")}},r.a.createElement("input",{type:"text",value:e,onChange:e=>{t(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"selected-lang"},"Choose a Language "),r.a.createElement("select",{id:"selected-lang",value:o,onChange:e=>{i(e.target.value)}},r.a.createElement("option",{value:"none",key:"none"}," ",".."," "),s.map(e=>r.a.createElement("option",{value:e.abbr,key:e.abbr},e.name))),r.a.createElement("button",{type:"submit"},"Translate"),r.a.createElement("h3",{className:"translated-text"},a)))))};var m=()=>{const[e,t]=Object(n.useState)(""),[a,l]=Object(n.useState)(""),o=Object(c.p)();return r.a.createElement("form",{onSubmit:async t=>{t.preventDefault();try{const t=await fetch("https://springboard-capstone-translation-app.onrender.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:a})});if(t.ok){const e=await t.json();localStorage.setItem("token",e.token),o("/dashboard")}else console.error("Login failed",t.status)}catch(n){console.error("Login error",n)}}},r.a.createElement("input",{type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Email",required:!0}),r.a.createElement("input",{type:"password",value:a,onChange:e=>l(e.target.value),placeholder:"password",required:!0}),r.a.createElement("button",{type:"submit"},"Login"))};var u=()=>{const[e,t]=Object(n.useState)(""),[a,l]=Object(n.useState)(""),[o,s]=Object(n.useState)(""),[i,m]=Object(n.useState)(""),[u,p]=Object(n.useState)(""),b=Object(c.p)(),d="https://springboard-capstone-translation-app.onrender.com";Object(n.useEffect)(()=>{(async()=>{const e=localStorage.getItem("token");if(e)try{const a=await fetch(`${d}/get-user-info`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(a.ok){const e=await a.json();t(e.username),l(e.email)}else m("Failed to fetch user data")}catch(i){console.error("Error fetching original user data:",i),m("An error occured fetching original user data")}else b("/login")})()},[b,d]);return r.a.createElement("form",{onSubmit:async t=>{t.preventDefault();const n=localStorage.getItem("token");if(n)try{(await fetch("http://localhost:5000/edit-info",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({username:e||void 0,email:a||void 0,password:o||void 0})})).ok?p("Your information has been updated!"):m("Failed in updating your information.")}catch(i){console.error("Error updating your info:",i),m("An error occured while updating your user information.")}else b("/login")}},r.a.createElement("h2",null,"Edit Your Info"),i&&r.a.createElement("p",{style:{color:"red"}},i),u&&r.a.createElement("p",{style:{color:"green"}},u),r.a.createElement("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Username",required:!0}),r.a.createElement("input",{type:"email",value:a,onChange:e=>l(e.target.value),placeholder:"Email",required:!0}),r.a.createElement("input",{type:"password",value:o,onChange:e=>s(e.target.value),placeholder:"Password (leave blank to keep current password)"}),r.a.createElement("button",{type:"submit"},"Save Changes"))},p=a(6),b=a.n(p);var d=()=>{const[e,t]=Object(n.useState)(""),[a,l]=Object(n.useState)(""),[o,s]=Object(n.useState)(""),i=Object(c.p)();return r.a.createElement("form",{onSubmit:async t=>{t.preventDefault();try{const t=await fetch("https://springboard-capstone-translation-app.onrender.com/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:a,password:o})});if(t.ok){const e=await t.json();alert(e.message),localStorage.setItem("token",e.token),i("/dashboard")}else{const e=await t.json();alert(`Registration failed: ${e.message}`)}}catch(n){console.error("Registration error:",n),alert(`Registration failed: ${n.message}`)}}},r.a.createElement("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Username"}),r.a.createElement("input",{type:"email",value:a,onChange:e=>l(e.target.value),placeholder:"Email"}),r.a.createElement("input",{type:"password",value:o,onChange:e=>s(e.target.value),placeholder:"Password"}),r.a.createElement("button",{type:"submit"},"Register"))};var g=()=>{const e=Object(c.p)();Object(n.useEffect)(()=>{localStorage.getItem("token")||e("/login")},[e]);return r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to your Dashboard"),r.a.createElement("button",{onClick:()=>{e("/translations")}},"View Your Translations"),r.a.createElement("button",{onClick:()=>{e("/edit-info")}},"Edit Your Info"),r.a.createElement("button",{onClick:()=>{e("/delete-account")}},"Delete Your Account"))};var h=()=>{const[e,t]=Object(n.useState)([]),[a,l]=Object(n.useState)(""),o=Object(c.p)(),s="https://springboard-capstone-translation-app.onrender.com";return Object(n.useEffect)(()=>{(async()=>{const e=localStorage.getItem("token");if(e)try{const n=await fetch(`${s}/user/translations`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(n.ok){const e=await n.json();t(e)}else l("Failed to fetch translations")}catch(a){l("An error occurred while fetching translations.")}else o("/login")})()},[o,s]),r.a.createElement("div",null,r.a.createElement("h1",null,"Your Translations"),a&&r.a.createElement("p",{style:{color:"red"}},a),r.a.createElement("ul",null,e.map(e=>r.a.createElement("li",{key:e.id},r.a.createElement("p",null,r.a.createElement("strong",null,"Input:")," ",e.input_text),r.a.createElement("p",null,r.a.createElement("strong",null,"Translated:")," ",e.translated_text),r.a.createElement("p",null,r.a.createElement("strong",null,"From:")," ",e.input_language),r.a.createElement("p",null,r.a.createElement("strong",null,"To:")," ",e.target_language),r.a.createElement("p",null,r.a.createElement("strong",null,"Date:")," ",new Date(e.timestamp).toLocaleString())))))},E=a(3);a(17);var f=()=>r.a.createElement("div",{className:"navigation"},r.a.createElement("a",{href:"/register"},"Register"),r.a.createElement("a",{href:"/about"},"My Translations"));var v=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement(f,null),r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/",element:r.a.createElement(i,null)}),r.a.createElement(c.b,{path:"/login",element:r.a.createElement(m,null)}),r.a.createElement(c.b,{path:"/register",element:r.a.createElement(d,null)}),r.a.createElement(c.b,{path:"/dashboard",element:r.a.createElement(g,null)}),r.a.createElement(c.b,{path:"/translations",element:r.a.createElement(h,null)}),r.a.createElement(c.b,{path:"/edit-info",element:r.a.createElement(u,null)}),r.a.createElement(c.b,{path:"/delete-account",element:r.a.createElement(b.a,null)}),r.a.createElement(c.b,{path:"*",element:r.a.createElement(c.a,{to:"/"})}))))};o.a.render(r.a.createElement(v,null),document.getElementById("root"))}],[[7,1,2]]]);
//# sourceMappingURL=main.4a9e43f6.chunk.js.map